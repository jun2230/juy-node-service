<%# const name = require("ejs/ejs").name; #%>
const koaRouter = require('@koa/router')
const { create, list, update, remove, query } = require('../controller/<%= name %>.controller')
const { verifyCreate<%= name %>, verifyQuery<%= name %>, verifyList<%= name %>, verifyUpdate<%= name %>, verifyDelete<%= name %> } = require("../middleware/data.<%= name %>.middleware");
const { verifyAuth } = require("../middleware/login.middleware");

const <%= name %>Router = new koaRouter({ prefix: '/<%= name %>'})

<%= name %>Router.post('/', verifyAuth, verifyCreate<%= name %>, create)
<%= name %>Router.post('/query', verifyQuery<%= name %>, query)
<%= name %>Router.post('/list', verifyList<%= name %>, list)
<%= name %>Router.put('/:id',verifyAuth, verifyUpdate<%= name %>, update)
<%= name %>Router.delete('/:id',verifyAuth, verifyDelete<%= name %>, remove)

module.exports = <%= name %>Router
